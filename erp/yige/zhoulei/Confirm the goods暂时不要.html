<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link href="quote/css/OMS.css" rel="stylesheet">
<link href="quote/css/demo.css" rel="stylesheet">
<link href="quote/css/dpl.css" rel="stylesheet">
<link href="quote/css/bui.css" rel="stylesheet">
<style>
.wenzi{ font-weight:bold}
</style>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
</head>

<body style="margin-left:30px">
<!--第一行-->
<form class="form-horizontal">
    <div class="row">
        <div class="control-group">
        	<label class="control-label wenzi">采购单名称：</label>
        	<div class="controls">
        		<p>我是采购单</p>
        	</div>
     	</div>
	</div>
    <div class="row">
    	<div class="control-group" style="float:left">
            <label class="control-label wenzi">供应商：</label>
            <div class="controls">
                <p>我是供应商</p>
            </div>
		</div>
        <div class="control-group span8">
            <label class="control-label wenzi">到货仓库：</label>
            <div class="controls">
                <p>我是到货仓库</p>
            </div>
        </div>
	</div>
    <div class="row">
    	<div class="control-group" style="float:left">
            <label class="control-label wenzi">采购方式：</label>
            <div class="controls">
                <p>我是采购方式</p>
            </div>
		</div>
        <div class="control-group span8">
            <label class="control-label wenzi">采购日期：</label>
            <div class="controls">
        		<p>2015-03-03</p>
        	</div>
        </div>
	</div>
    <div class="row">
        <div class="control-group" style="float:left">
        	<label class="control-label wenzi">预计到货日期：</label>
        	<div class="controls">
        		<p>2016-03-30</p>
        	</div>
     	</div>
        <div class="control-group span8">
        	<label class="control-label wenzi">运费：</label>
        	<div class="controls">
                      <p>我是运费</p>
            </div>
        </div>
    </div>
	<div class="row">
        <div class="control-group span8">
        	<label class="control-label wenzi" style="width:140px">运费是否计入成本：</label>
        	<div class="controls">
                      <p>是</p>
            </div>
        </div>
     </div>
    <hr>
</form>
<!--第一行结束第二行开始-->
<!--第二表单第一行开始-->
<form class="form-horizontal">
    <div class="row">
        <div class="control-group">
        	<label class="control-label wenzi">采购人姓名：</label>
        	<div class="controls">
        		<p>周栋梁</p>
        	</div>
     	</div>
	</div>
    <div class="row">
        <div class="control-group">
        	<label class="control-label wenzi">对单人姓名：</label>
        	<div class="controls">
        		<p>周栋梁</p>
        	</div>
         </div>
	</div>
    <hr>
</form>
<!--第四个表单-->
<form id="J_Form" class="form-horizontal" method="post">
    <div class="row">
        <div class="span control-row-auto">
            <div id="grid"></div>
    	</div>
        <input type="hidden" name="gridValue"><!--存放grid的数据-->
    </div>
    <div class="row" style="margin-top:10px">
        <div class="form-actions offset3">
        	<button type="submit" class="button button-primary">确认收货</button>
        </div>
    </div> 
</form>


<!--js--> 
<script src="quote/js/jquery-1.8.1.min.js"></script> 
<script src="quote/js/sea.js"></script> 
<script src="quote/js/config.js"></script> 
<script src="quote/js/grid-min.js"></script> 
<script src="quote/js/common-min.js"></script> 
<script src="quote/js/menu-min.js"></script> 
<script src="quote/js/data-min.js"></script> 
<script src="quote/js/toolbar-min.js"></script> 
<script src="quote/js/mask-min.js"></script> 
<script src="quote/js/list-min.js"></script> 
<script src="quote/js/form-min.js"></script> 
<script src="quote/js/overlay-min.js"></script>
<script src="quote/js/editor-min.js"></script> 
<script src="quote/img/calendar-min.js"></script>
<script src="quote/js/slider-min.js"></script>


<script type="text/javascript">


	<!--地址三级联动-->
      BUI.use('bui/form',function(Form){ 
      // 静态数据源
      var data = [{"id" : "1","text":"山东","children":[
        {"id":"11","text":"济南","leaf":false},
        {"id":"12","text":"淄博","leaf":false,"children":[
          {"id":"121","text":"淄川区","leaf":true}
        ]}
      ]}];
 
      BUI.Form.Group.Select.addType('type2',{
        data : data
      });
 
      var form = new Form.Form({
        srcNode : '#J_Form'
      }).render();
	  var form = new Form.Form({
        srcNode : '#J_Form1'
      }).render();
      
  });  
   <!--三级联动结束-->
   <!--下单添加删除js-->
   function planFormat(value){
      return value + '转换';
    }
      BUI.use(['bui/grid','bui/data','bui/form'],function (Grid,Data,Form) {
      
       var columns = [{title : '货号',dataIndex :'a',editor : {xtype : 'text',rules:{required:true}}},
            {title : '名称',dataIndex :'b',editor : {xtype : 'text',rules:{required:true}}},//使用现有的渲染函数，日期格式化
            {title : '单价',dataIndex :'c',editor : {xtype : 'text',rules:{required:true}}},
			{title : '规格',dataIndex :'d',editor : {xtype : 'text',rules:{required:true}}},
			{title : '条码',dataIndex :'e',editor : {xtype : 'text',rules:{required:true}}},
			{title : '采购数量',dataIndex :'f',editor : {xtype : 'date',rules:{required:true},},renderer : Grid.Format.dateRenderer},
			{title : '到货数量',dataIndex :'h',editor : {xtype : 'text',rules:{required:true}}},
			{title : '损耗数量',dataIndex :'i',editor : {xtype : 'text',rules:{required:true}}},
			{title : '备注',dataIndex :'j',editor : {xtype : 'text',rules:{required:true}}},
            
          ],
      //默认的数据
      data = [{id:'1',a:'032JPA334600003',b:'22',c:'82',},
        {id:'2',a:'032JPA334600003',b:'22',c:'82',}],
      store = new Data.Store({
        data:data
      }),
      editing = new Grid.Plugins.CellEditing(),
      grid = new Grid.Grid({
        render : '#grid',
        columns : columns,
        width : 700,
        forceFit : true,
        store : store,
        plugins : [Grid.Plugins.CheckSelection,editing],
        tbar:{
            items : [{
              btnCls : 'button button-small',
              text : '<i class="icon-plus"></i>添加',
              listeners : {
                'click' : addFunction
              }
            },
            {
              btnCls : 'button button-small',
              text : '<i class="icon-remove"></i>删除',
              listeners : {
                'click' : delFunction
              }
            }]
        }
 
      });
    grid.render();
 
    function addFunction(){
      var newData = {school :'请输入学校名称'};
      store.add(newData);
      editing.edit(newData,'school'); //添加记录后，直接编辑
    }
 
    function delFunction(){
      var selections = grid.getSelection();
      store.remove(selections);
    }
 
    var form = new Form.HForm({
      srcNode : '#J_Form'
    });
    form.render();
 
    form.on('beforesubmit',function(){
      if(!editing.isValid()){
 
        return false;
      }
      var str = BUI.JSON.stringify(store.getResult());// 提交前将grid的数据存储到隐藏域，一起提交
      form.getField('gridValue').set('value',str); 
    });
 
      
  }); 
  <!--下单添加删除js结束-->    
	<!--日期-->
      BUI.use('bui/calendar',function(Calendar){
          var datepicker = new Calendar.DatePicker({
            trigger:'.calendar',
            autoRender : true
          });
        });
<!--二选一-->
BUI.use('bui/form',function  (Form) {
new Form.Form({
srcNode : '#J_Form'
}).render();
});
</script>
</body>
</html>
